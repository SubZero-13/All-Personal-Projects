package com.nagarro.Mini_Assignment_2.repos;

import org.springframework.data.domain.Page;
import org.springframework.data.domain.PageRequest;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;

import com.nagarro.Mini_Assignment_2.entities.User;

public interface UserRepository extends JpaRepository<User, Long> {

	Page<User> findAllByOrderByAge();

	@Query("SELECT u FROM User u WHERE FUNCTION('BITAND', u.age, 1) = 0")
	Page<User> findAllByAgeIsEven();

	@Query("SELECT u FROM User u WHERE FUNCTION('BITAND', u.age, 1) = 1")
	Page<User> findAllByAgeIsOdd();

	@Query(value = "SELECT * FROM user u WHERE LENGTH(u.name) % 2 = 0", nativeQuery = true)
	Page<User> findAllByNameLengthIsEven();

	@Query(value = "SELECT * FROM user u WHERE LENGTH(u.name) % 2 = 1", nativeQuery = true)
	Page<User> findAllByNameLengthIsOdd();
}
